# To do:
# Использовать спрайты не ксеноборгов
# Баланс оружия - баланс скорости зарядки - глянуть как у ксеносов
# свой модуль медицины, с генератором эпинефрина
# что со звуком шасси делать емае
# теги еще проверить, мб проебал (скорее всего проебал)

- type: entity
  id: LPPBorgSecurityGeneric
  parent: BaseBorgChassisNT
  name: security chellnock
  components:
  - type: BorgTransponder
    name: security chellnock
    sprite:
      sprite: _LP/Mobs/Silicon/sec_drone.rsi
      state: robot
  - type: IntrinsicRadioTransmitter
    channels:
    - Binary
    - Common
    - Security
    - Command
  - type: ActiveRadio
    channels:
    - Binary
    - Common
    - Security
    - Command

  - type: AmbientSound
    enabled: false
    range: 4
    volume: -4
    sound:
      path: /Audio/Effects/shuttle_thruster.ogg
  - type: FootstepModifier
    footstepSoundCollection:
      collection: FootstepBorg
    volume: -100

  - type: MovementSpeedModifier
    baseWalkSpeed: 5
    baseSprintSpeed: 9
  - type: MovementIgnoreGravity

  - type: Sprite
    sprite: _LP/Mobs/Silicon/sec_drone.rsi
    layers:
    - state: robot
    - state: robot_e_r
      map: ["enum.GunVisualLayers.Base"]
      shader: unshaded
      visible: false
    - state: robot_l
      shader: unshaded
      map: ["light"]
      visible: false
  - type: BorgChassis
    maxModules: 5
    moduleWhitelist:
      tags:
      - BorgModuleGeneric
    hasMindState: robot_e
    noMindState: robot_e_r
  - type: Speech
    speechVerb: Robotic
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: PowerCellHigh
  - type: ContainerFill
    containers:
      borg_brain:
      - PositronicBrain
      borg_module:
      - LPBorgModuleSecurityWeapon
      - LPBorgModuleSecurityLaser
      - BorgModuleTool
  - type: Access
    groups:
    - AllAccess
    tags:
    - Borg
  - type: AccessReader
    access: [["Security"], ["Command"], ["Research"]]
  - type: FlashImmunity

# === МОДУЛИ ДЛЯ БОРГОВ ===

# Модуль с оружием (станбатон + дизейблер)
- type: entity
  id: LPBorgModuleSecurityWeapon
  parent: [BaseBorgModule, BaseProviderBorgModule]
  name: security weapon cyborg module
  description: A module containing non-lethal security equipment.
  components:
  - type: Sprite
    layers:
    - state: xenoborg_heavy # ЗАМЕНИТЬ 
    - state: icon-xenoborg-laser # ЗАМЕНИТЬ 
  - type: ItemBorgModule
    hands:
    - item: LPStunbatonBorgSec
    - item: LPWeaponDisablerBorgSec
    - item: Handcuffs # одни наручники, может дать больше?
      hand:
        emptyLabel: borg-slot-handcuffs-empty
        emptyRepresentative: Handcuffs
        whitelist:
          tags:
          - Handcuffs
  - type: BorgModuleIcon
    icon: { sprite: Interface/Actions/actions_borg.rsi, state: xenoborg-laser-module } # ЗАМЕНИТЬ 
  - type: Item
    inhandVisuals:
      left:
      - state: base-icon-inhand-left
        color: "#DE3A3A"
      - state: base-module-inhand-left
        color: "#1F1F1F"
      - state: base-part-inhand-left
      - state: base-stripes-inhand-left
        color: "#8B0000"
      right:
      - state: base-icon-inhand-right
        color: "#DE3A3A"
      - state: base-module-inhand-right
        color: "#1F1F1F"
      - state: base-part-inhand-right
      - state: base-stripes-inhand-right
        color: "#8B0000"

# Модуль с лазерной самозарядным карабином, баланс - только одна рука (низкая точность)
- type: entity
  id: LPBorgModuleSecurityLaser
  parent: [BaseBorgModule, BaseProviderBorgModule]
  name: security laser cyborg module
  description: A module containing a lethal laser weapon for extreme situations.
  components:
  - type: Sprite
    layers:
    - state: xenoborg_heavy # ЗАМЕНИТЬ 
    - state: icon-xenoborg-laser2 # ЗАМЕНИТЬ 
  - type: ItemBorgModule
    hands:
    - item: LPWeaponLaserCarbineBorgSec
  - type: BorgModuleIcon
    icon: { sprite: Interface/Actions/actions_borg.rsi, state: xenoborg-laser2-module } # ЗАМЕНИТЬ 
  - type: StaticPrice
    price: 1500
  - type: Item
    inhandVisuals:
      left:
      - state: base-icon-inhand-left
        color: "#DE3A3A"
      - state: base-module-inhand-left
        color: "#1F1F1F"
      - state: base-part-inhand-left
      - state: base-stripes-inhand-left
        color: "#8B0000"
      right:
      - state: base-icon-inhand-right
        color: "#DE3A3A"
      - state: base-module-inhand-right
        color: "#1F1F1F"
      - state: base-part-inhand-right
      - state: base-stripes-inhand-right
        color: "#8B0000"

# === ОРУЖИЕ С САМОЗАРЯДКОЙ ===

# Станбатон с самозарядкой
- type: entity
  id: LPStunbatonBorgSec
  parent: Stunbaton
  suffix: Cyborg, Security
  components:
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 10 

# Тайзер с самозарядкой
- type: entity
  id: LPWeaponDisablerBorgSec
  parent: WeaponDisabler
  suffix: Cyborg, Security
  components:
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 10

# Лазерный карабин с самозарядкой
- type: entity
  id: LPWeaponLaserCarbineBorgSec
  parent: WeaponLaserCarbine
  suffix: Cyborg, Security
  components:
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 30